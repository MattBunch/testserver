<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test App</title>
</head>
<body>
    <div>
            
        <div id="submitSection">
            <form id=submitForm>
                <label for="fname">First name:</label>
                <input type="text" id="fname" name="fname"><br><br>
                <label for="lname">Last name:</label>
                <input type="text" id="lname" name="lname"><br><br>
                <input type="submit" id="submit" value="Submit">
            </form>
        </div>
        
        <div>
            <input type="submit" id="retrieveButton">
        </div>
        
        <script>

            document.getElementById("submit").addEventListener("click", (e) => {
            
                e.preventDefault();

                let formData = {
                    fName: document.getElementById("fname").value,
                    lName: document.getElementById("lname").value,
                };
    
                let xhr = new XMLHttpRequest();
                xhr.open("POST", "/submit");
                xhr.setRequestHeader("content-type", "application/json");
                xhr.onload = function () {
                    console.log(xhr.responseText)
                };
                xhr.send(JSON.stringify(formData));
                
            });

            document.getElementById("retrieveButton").addEventListener("click", (e) =>{
                e.preventDefault();

                let xhr = new XMLHttpRequest();
                xhr.open("GET", "/retrieve");
                xhr.setRequestHeader("content-type", "application/json");
                xhr.onload = function () {
                    console.log(xhr.responseText)
                };
                xhr.send();
            });


        </script>
    </div>
</body>
</html>